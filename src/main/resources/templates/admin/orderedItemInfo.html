<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>享學後台管理</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
</head>
<body>
<h2 class="mt-1 mb-4">詳細資訊</h2>
<table class="table table-bordered table-striped">
    <thead>
    <tr class="text-center">
        <th>課程照片</th>
        <th>課程名稱</th>
        <th>金額</th>
    </tr>
    </thead>
    <tbody>
    <tr  th:each="orderItem : ${orderItems}">
        <td class="align-middle text-center">
            <img th:src="@{/images/{filename}(filename=${orderItem.getImageUrlString})}" class="card-img-top" alt="课程图片" style="max-width: 100px; max-height: 65px;"/>
        </td>
        <td class="align-middle text-center" th:text="${orderItem.getCourseName}"></td>
        <td class="align-middle text-center" th:text="'NT$ ' + ${orderItem.formattedAmount}"></td>
    </tr>
    </tbody>
</table>
<!-- 水平分隔线 -->
    <hr style="margin-top: 20px;">

    <!-- 订单额外信息 -->
<div style="text-align: right;">
    <p><strong>合計</strong> : <span th:text="${#lists.size(orderItems) + '件'}"></span></p>
    <p><strong>優惠券折扣：</strong><span style="color: red" th:text="'-NT$ ' + ${formattedDiscount} "></span></p>
    <p><strong>總金額：</strong><span th:text="'NT$ ' + ${finalTotal} "></span></p>
    <p><strong>訂單編號：</strong><span th:text="${orderItems[0].orderId}"></span></p>
    <p><strong>訂單時間：</strong><span th:text="${#dates.format(orderItems.get(0).getCreated_date(), 'yyyy-MM-dd HH:mm:ss')}">訂單時間</span></p>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>